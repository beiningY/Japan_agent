2025-09-23 17:00:20,014 - API_Server - INFO - ä¸»è¿›ç¨‹å¯åŠ¨ï¼Œåˆå§‹åŒ–Embeddingæ¨¡å‹...
2025-09-23 17:00:20,014 - API_Server - INFO - å¼€å§‹åˆå§‹åŒ–å…¨å±€Embeddingæ¨¡å‹ç®¡ç†å™¨...
2025-09-23 17:00:20,014 - EmbeddingModelManager - INFO - å¼€å§‹åˆå§‹åŒ–å…¨å±€Embeddingæ¨¡å‹ç®¡ç†å™¨...
2025-09-23 17:00:20,014 - EmbeddingModelManager - INFO - åŠ è½½ Embedding æ¨¡å‹: models/multilingual-e5-large
2025-09-23 17:00:20,014 - EmbeddingModelManager - INFO - æœªæ£€æµ‹åˆ°GPUï¼Œä½¿ç”¨CPUè¿è¡Œembeddingæ¨¡å‹
2025-09-23 17:00:21,335 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-23 17:00:21,632 - datasets - INFO - PyTorch version 2.1.0 available.
2025-09-23 17:00:21,632 - datasets - INFO - Duckdb version 1.3.1 available.
2025-09-23 17:00:21,791 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: models/multilingual-e5-large
2025-09-23 17:00:34,388 - EmbeddingModelManager - INFO - Embedding æ¨¡å‹åŠ è½½æˆåŠŸï¼Œè¿è¡Œè®¾å¤‡: cpu
2025-09-23 17:00:34,390 - EmbeddingModelManager - INFO - åˆå§‹åŒ–å‘é‡æ•°æ®åº“è¿æ¥: data/vector_data
2025-09-23 17:00:35,720 - EmbeddingModelManager - INFO - å‘é‡æ•°æ®åº“è¿æ¥åˆå§‹åŒ–æˆåŠŸ
2025-09-23 17:00:35,720 - EmbeddingModelManager - INFO - å…¨å±€Embeddingæ¨¡å‹ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆï¼
2025-09-23 17:00:35,721 - API_Server - INFO - å…¨å±€Embeddingæ¨¡å‹ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆï¼
2025-09-23 17:00:35,722 - API_Server - INFO - å¼€å§‹åˆå§‹åŒ–å…¨å±€MCPå·¥å…·æ³¨å†Œå™¨...
2025-09-23 17:00:35,745 - GlobalToolManager - INFO - å¼€å§‹åˆå§‹åŒ–å…¨å±€MCPå·¥å…·æ³¨å†Œå™¨...
2025-09-23 17:00:35,914 - MultiServerMCPClient - INFO - Discovered local tools: ['list_sql_tables', 'get_tables_schema', 'read_sql_query', 'create_collection', 'delete_collection', 'retrieve', 'create_file', 'delete_file']
2025-09-23 17:00:35,915 - ToolRegistry - INFO - æˆåŠŸè·å– 8 ä¸ªå·¥å…·æ¥è‡ªä¸‹æ‰€æœ‰ä¸‹æ¸¸MCPæœåŠ¡ç«¯ã€‚
2025-09-23 17:00:35,917 - ToolRegistry - INFO - æˆåŠŸæ³¨å†Œå’ŒåŒ…è£…MCPå·¥å…·: list_sql_tables
2025-09-23 17:00:35,917 - ToolRegistry - INFO - æˆåŠŸæ³¨å†Œå’ŒåŒ…è£…MCPå·¥å…·: get_tables_schema
2025-09-23 17:00:35,917 - ToolRegistry - INFO - æˆåŠŸæ³¨å†Œå’ŒåŒ…è£…MCPå·¥å…·: read_sql_query
2025-09-23 17:00:35,917 - ToolRegistry - INFO - æˆåŠŸæ³¨å†Œå’ŒåŒ…è£…MCPå·¥å…·: create_collection
2025-09-23 17:00:35,917 - ToolRegistry - INFO - æˆåŠŸæ³¨å†Œå’ŒåŒ…è£…MCPå·¥å…·: delete_collection
2025-09-23 17:00:35,917 - ToolRegistry - INFO - æˆåŠŸæ³¨å†Œå’ŒåŒ…è£…MCPå·¥å…·: retrieve
2025-09-23 17:00:35,917 - ToolRegistry - INFO - æˆåŠŸæ³¨å†Œå’ŒåŒ…è£…MCPå·¥å…·: create_file
2025-09-23 17:00:35,917 - ToolRegistry - INFO - æˆåŠŸæ³¨å†Œå’ŒåŒ…è£…MCPå·¥å…·: delete_file
2025-09-23 17:00:35,917 - GlobalToolManager - INFO - å…¨å±€MCPå·¥å…·æ³¨å†Œå™¨åˆå§‹åŒ–å®Œæˆï¼å·²æ³¨å†Œ 8 ä¸ªå·¥å…·
2025-09-23 17:00:35,917 - GlobalToolManager - INFO - å·²æ³¨å†Œçš„å·¥å…·: list_sql_tables, get_tables_schema, read_sql_query, create_collection, delete_collection, retrieve, create_file, delete_file
2025-09-23 17:00:35,917 - API_Server - INFO - å…¨å±€MCPå·¥å…·æ³¨å†Œå™¨åˆå§‹åŒ–å®Œæˆï¼
2025-09-23 17:00:35,917 - API_Server - INFO - å¯åŠ¨RAGé˜Ÿåˆ—æœåŠ¡ï¼ˆå•çº¿ç¨‹ï¼ŒFIFOï¼‰...
2025-09-23 17:00:35,918 - queue_server - INFO - æ­£åœ¨å¯åŠ¨ RAG æœåŠ¡ï¼Œå°†åˆ›å»º 1 ä¸ªå·¥ä½œçº¿ç¨‹...
2025-09-23 17:00:35,918 - queue_server - INFO - åˆå§‹åŒ– RAG-Worker-1
2025-09-23 17:00:35,921 - queue_server - INFO - RAG-Worker-1 å¯åŠ¨ã€‚
2025-09-23 17:00:35,921 - queue_server - INFO - RAG æœåŠ¡å¯åŠ¨å®Œæ¯•ã€‚
2025-09-23 17:00:35,921 - API_Server - INFO - RAGé˜Ÿåˆ—æœåŠ¡å¯åŠ¨å®Œæˆ
2025-09-23 17:00:35,921 - API_Server - INFO - å¯åŠ¨FlaskæœåŠ¡...
 * Serving Flask app 'main'
 * Debug mode: on
2025-09-23 17:00:35,964 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.0.79:5001
2025-09-23 17:00:35,964 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-09-23 17:00:43,332 - api_qa_sse - INFO - å…¨å±€æ¨¡å‹å·²åˆå§‹åŒ–ï¼Œè·³è¿‡æ¨¡å‹åŠ è½½ã€‚
2025-09-23 17:00:43,332 - api_qa_sse - INFO - RAGé˜Ÿåˆ—æœåŠ¡å·²åœ¨è¿è¡Œï¼Œè·³è¿‡å¯åŠ¨
2025-09-23 17:00:43,333 - api_qa_sse - INFO - æ”¶åˆ°SSEè¯·æ±‚<Request 'http://localhost:5001/sse/stream_qa?session_id=fadeda84-256c-4f46-b606-ee7c375b9244&agent_type=japan&query=å½“å‰ç›‘æµ‹æ˜¾ç¤ºï¼šDO%3D3.4+mg%2FLï¼Œæ¯”æ˜¨æ—¥ä¸‹é™äº†+0.8+å•ä½ï¼ŒpH%3D8.0ï¼Œæ°´æ¸©+28.5Â°Cã€‚è¯·é—®æ˜¯å¦éœ€è¦ç«‹å³è°ƒæ•´ä¾›æ°§æˆ–å¾ªç¯ç­–ç•¥ï¼Ÿå¦‚æœéœ€è¦ï¼Œåº”ä¼˜å…ˆé‡‡å–å“ªäº›æ“ä½œï¼Ÿ&config=%7B%22rag%22%3A+%7B%22collection_name%22%3A+%22japan_shrimp%22,+%22topk_single%22%3A+5,+%22topk_multi%22%3A+5%7D,+%22mode%22%3A+%22single%22,+%22single%22%3A+%7B%22temperature%22%3A+0.4,+%22system_prompt%22%3A+%22ä½ æ˜¯ä¸€ä¸ªé¢†åŸŸä¸“å®¶ï¼Œä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®ç”¨æˆ·çš„é—®é¢˜ï¼Œç»“åˆå¢å¼ºæ£€ç´¢åçš„ç›¸å…³çŸ¥è¯†ï¼Œç»™å‡ºä¸“ä¸šçš„å›ç­”ã€‚%22,+%22max_tokens%22%3A+10000%7D%7D' [GET]>
2025-09-23 17:00:43,333 - api_qa_sse - INFO - æ”¶åˆ°SSEè¯·æ±‚ - Session ID: fadeda84-256c-4f46-b606-ee7c375b9244, Query: å½“å‰ç›‘æµ‹æ˜¾ç¤ºï¼šDO=3.4 mg/Lï¼Œæ¯”æ˜¨æ—¥ä¸‹é™äº† 0.8 å•ä½ï¼ŒpH=8.0ï¼Œæ°´æ¸© 28.5Â°Cã€‚è¯·é—®æ˜¯å¦éœ€è¦ç«‹å³è°ƒæ•´ä¾›æ°§æˆ–å¾ªç¯ç­–ç•¥ï¼Ÿå¦‚æœéœ€è¦ï¼Œåº”ä¼˜å…ˆé‡‡å–å“ªäº›æ“ä½œï¼Ÿ, Agent Type: japan
2025-09-23 17:00:43,334 - werkzeug - INFO - 127.0.0.1 - - [23/Sep/2025 17:00:43] "GET /sse/stream_qa?session_id=fadeda84-256c-4f46-b606-ee7c375b9244&agent_type=japan&query=å½“å‰ç›‘æµ‹æ˜¾ç¤ºï¼šDO%3D3.4+mg%2FLï¼Œæ¯”æ˜¨æ—¥ä¸‹é™äº†+0.8+å•ä½ï¼ŒpH%3D8.0ï¼Œæ°´æ¸©+28.5Â°Cã€‚è¯·é—®æ˜¯å¦éœ€è¦ç«‹å³è°ƒæ•´ä¾›æ°§æˆ–å¾ªç¯ç­–ç•¥ï¼Ÿå¦‚æœéœ€è¦ï¼Œåº”ä¼˜å…ˆé‡‡å–å“ªäº›æ“ä½œï¼Ÿ&config=%7B%22rag%22%3A+%7B%22collection_name%22%3A+%22japan_shrimp%22,+%22topk_single%22%3A+5,+%22topk_multi%22%3A+5%7D,+%22mode%22%3A+%22single%22,+%22single%22%3A+%7B%22temperature%22%3A+0.4,+%22system_prompt%22%3A+%22ä½ æ˜¯ä¸€ä¸ªé¢†åŸŸä¸“å®¶ï¼Œä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®ç”¨æˆ·çš„é—®é¢˜ï¼Œç»“åˆå¢å¼ºæ£€ç´¢åçš„ç›¸å…³çŸ¥è¯†ï¼Œç»™å‡ºä¸“ä¸šçš„å›ç­”ã€‚%22,+%22max_tokens%22%3A+10000%7D%7D HTTP/1.1" 200 -
2025-09-23 17:00:43,334 - api_qa_sse - INFO - å‘é€åˆå§‹æ¶ˆæ¯: {"session_id": "fadeda84-256c-4f46-b606-ee7c375b9244", "timestamp": "17:00:43", "agent_type": "japan", "message_id": "4d090e99-03a1-4e31-88c4-584830dd5343", "content": "å¼€å§‹å¤„ç†æŸ¥è¯¢: 'å½“å‰ç›‘æµ‹æ˜¾ç¤ºï¼šDO=3.4 mg/Lï¼Œæ¯”æ˜¨æ—¥ä¸‹é™äº† 0.8 å•ä½ï¼ŒpH=8.0ï¼Œæ°´æ¸© 28.5Â°Cã€‚è¯·é—®æ˜¯å¦éœ€è¦ç«‹å³è°ƒæ•´ä¾›æ°§æˆ–å¾ªç¯ç­–ç•¥ï¼Ÿå¦‚æœéœ€è¦ï¼Œåº”ä¼˜å…ˆé‡‡å–å“ªäº›æ“ä½œï¼Ÿ'", "data": {"status": "started"}}
2025-09-23 17:00:43,335 - Orchestrator - INFO - Orchestration mode=single
2025-09-23 17:00:43,444 - DataAgent - INFO - ä½¿ç”¨å…¨å±€å·¥å…·ç®¡ç†å™¨çš„å·²åˆå§‹åŒ–æ³¨å†Œå™¨
2025-09-23 17:00:43,444 - DataAgent - INFO - å·²å‡†å¤‡ 8 ä¸ªå·¥å…·ä¾›LLMè°ƒç”¨
2025-09-23 17:00:45,371 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 17:00:45,391 - ToolRegistry - INFO - æƒé™æ£€æŸ¥é€šè¿‡: data-agent ä½¿ç”¨å·¥å…· retrieve (é£é™©çº§åˆ«: LOW)
2025-09-23 17:00:45,391 - ToolRegistry - INFO - æƒé™æ£€æŸ¥é€šè¿‡ï¼Œç»§ç»­è°ƒç”¨MCP 'retrieve'.
2025-09-23 17:00:45,392 - Langchain_RAG - INFO - ä½¿ç”¨å…¨å±€æ¨¡å‹ç®¡ç†å™¨è·å–é¢„åŠ è½½çš„æ¨¡å‹...
2025-09-23 17:00:45,392 - Langchain_RAG - INFO - æ¨¡å‹ç®¡ç†å™¨çŠ¶æ€æ£€æŸ¥: 5962758672
2025-09-23 17:00:45,392 - Langchain_RAG - INFO - å…¨å±€æ¨¡å‹ç®¡ç†å™¨åˆå§‹åŒ–çŠ¶æ€: True
2025-09-23 17:00:45,392 - Langchain_RAG - INFO - ä»å…¨å±€æ¨¡å‹ç®¡ç†å™¨è·å–æ¨¡å‹æˆåŠŸ
2025-09-23 17:00:45,392 - EmbeddingModelManager - INFO - å¼€å§‹è·å–å‘é‡æ•°æ®åº“å®¢æˆ·ç«¯
2025-09-23 17:00:45,392 - EmbeddingModelManager - INFO - è·å–åˆ°å‘é‡æ•°æ®åº“å®¢æˆ·ç«¯
2025-09-23 17:00:45,392 - EmbeddingModelManager - INFO - å¼€å§‹è¿æ¥é›†åˆ: japan_shrimp
2025-09-23 17:00:45,399 - EmbeddingModelManager - INFO - è¿æ¥åˆ°ç°æœ‰é›†åˆ: japan_shrimp
2025-09-23 17:00:48,280 - EmbeddingModelManager - INFO - å‘é‡å­˜å‚¨å®ä¾‹åˆ›å»ºæˆåŠŸ: japan_shrimp
2025-09-23 17:00:48,281 - Langchain_RAG - INFO - ä»å…¨å±€æ¨¡å‹ç®¡ç†å™¨è·å–å‘é‡å­˜å‚¨: japan_shrimp
2025-09-23 17:00:48,281 - Langchain_RAG - INFO - æ£€ç´¢ä¸­: 'DO=3.4 mg/Lï¼ŒpH=8.0ï¼Œæ°´æ¸© 28.5Â°Cï¼Œæ˜¯å¦éœ€è¦è°ƒæ•´ä¾›æ°§æˆ–å¾ªç¯ç­–ç•¥ï¼Ÿ' (top-5)
2025-09-23 17:00:48,281 - queue_server - INFO - æäº¤ä»»åŠ¡(å¸¦Future) ID: 013478d7-f518-429d-9cec-70600d7054dd åˆ°é˜Ÿåˆ—ã€‚
2025-09-23 17:00:48,282 - queue_server - INFO - RAG-Worker-1 æ­£åœ¨å¤„ç†è¯·æ±‚ ID: 013478d7-f518-429d-9cec-70600d7054dd
2025-09-23 17:00:48,436 - queue_server - INFO - RAG-Worker-1 å®Œæˆè¯·æ±‚ ID: 013478d7-f518-429d-9cec-70600d7054dd
2025-09-23 17:00:48,437 - Langchain_RAG - INFO - æ£€ç´¢åˆ°ç›¸å…³ç‰‡æ®µ:[Document(metadata={'piece_num': 1, 'source': 'data/raw_data/japan_shrimp/å¾ªç¯æ°´å—ç¾ç™½å¯¹è™¾å…»æ®–ç³»ç»Ÿè®¾è®¡åŠæ“ä½œæ‰‹å†Œå¼ é©°v3.0.pdf', '_id': '4a5ec3c5-faf4-41f6-99f4-c863158451a4', '_collection_name': 'japan_shrimp'}, page_content='ä¿è¯å‡ ä¹æ‰€æœ‰çš„ç”Ÿç‰©è½½ä½“è¢«å……åˆ†æ…åŠ¨èµ·æ¥ï¼Œä¿è¯æ°´åŠ›å…³ç³»åˆç†ï¼Œä½¿å°½é‡å¤šçš„ç”Ÿç‰©è½½ä½“å¤„ç†æµè¿›ç”Ÿç‰©æ»¤æ± çš„æ°´ã€‚å›¾2åˆšåˆšæ”¾å…¥çš„ç”Ÿç‰©è½½ä½“ï¼Œç™½è‰²ï¼›å›¾3è¿è¡Œä¸‰ä¸ªæœˆåçš„ç”Ÿç‰©è½½ä½“ï¼Œæ£•é»„è‰²ã€‚'), Document(metadata={'piece_num': 1, 'source': 'data/raw_data/japan_shrimp/å¾ªç¯æ°´å—ç¾ç™½å¯¹è™¾å…»æ®–ç³»ç»Ÿè®¾è®¡åŠæ“ä½œæ‰‹å†Œå¼ é©°v3.0.pdf', '_id': '74d10ca7-d9aa-42bb-b6e8-ed4217f53fc4', '_collection_name': 'japan_shrimp'}, page_content='è¿˜å¯ä»¥è€ƒè™‘åœ¨å…»æ®–åæœŸï¼Œå°†æ·¡åŒ–å…»æ®–çš„æˆè™¾ï¼Œé€šè¿‡çŸ­æš‚çš„ç›åŒ–å…»æ®–ï¼Œèµ·åˆ°å¢åŠ é£Ÿç”¨å£æ„Ÿï¼Œå‡å°‘å¯„ç”Ÿè™«çš„ä½œç”¨ã€‚ï¼ˆä¸“åˆ©ç”³è¯·ä¸­ã€‚æ¸©åº¦å»ºè®®æ¯æ—¥æµ‹è¯•ï¼Œæ¸©åº¦å˜åŒ–ä¼šå½±å“è™¾ç±»çš„æ‘„é£Ÿæ´»åŠ¨å’Œæ´»åŠ›ã€‚ä¸€èˆ¬æœ€é€‚æ¸©åº¦ä¸º28~32æ‘„æ°åº¦ã€‚åœ¨å¤å­£å¤§æ£šï¼Œæ°´æ¸©ä¸€èˆ¬èƒ½ç»´æŒåœ¨30æ‘„é£Ÿå·¦å³ï¼Œéå¸¸é€‚åˆè™¾ç±»ç”Ÿé•¿ã€‚åœ¨å…³ä¸œåœ°åŒºï¼Œæ¸©åº¦ä»11æœˆä»½å¼€å§‹ä¸‹é™ï¼Œè‡³æ°´æ¸©20æ‘„æ°åº¦å·¦å³ï¼Œè™¾ç±»å·²å‡å°‘è¿›é£Ÿï¼Œæ¸©åº¦ä½äº20æ‘„æ°åº¦ï¼Œæ¯æ—¥çº¦æœ‰5~10%çš„è™¾æ­»äº¡ã€‚æº¶è§£æ°§è‡³å°‘éœ€è¦ä¿è¯åœ¨4.0mg/Lä»¥ä¸Šï¼Œä¿è¯åœ¨5.0~8.0mg/Læ˜¯æœ€é€‚çš„ã€‚æº¶è§£æ°§æ˜¯ä¿è¯è™¾å­˜æ´»æœ€å¿«é€Ÿè¢«ååº”çš„æŒ‡æ ‡ï¼Œè¿™æ„å‘³ç€å¦‚æœæº¶è§£æ°§ä½äºä¸‹é™ï¼ˆé€šå¸¸æ˜¯1.0mg/Lï¼‰ä¸€å°æ—¶ç”šè‡³æ•°åˆ†é’Ÿï¼Œä¼šå¯¼è‡´è™¾çª’æ¯æ­»äº¡ã€‚æº¶è§£æ°§çš„ç›‘æµ‹ä½¿ç”¨æº¶è§£æ°§ä»ªï¼Œä½¿ç”¨è¾ƒæ–¹ä¾¿ã€‚ä½†éœ€è€ƒè™‘æº¶è§£æ°§é™ä½æ—¶è¯¥å¦‚ä½•æé«˜æº¶è§£æ°§ï¼Œç‰¹åˆ«åœ¨æ›æ°”å……è¶³æƒ…å†µä¸‹ã€‚æœ¬æ¬¡å…»æ®–è¿‡ç¨‹ä¸­æº¶è§£æ°§æ›¾è¢«ç›‘æµ‹åˆ°éå¸¸ä½ï¼ˆä½äº2.0mg/Lï¼‰çš„æ•°å€¼ï¼Œè¯¥æ•°å€¼ä¸€èˆ¬è®¤ä¸ºä¼šå¯¼è‡´è™¾ç±»æ­»äº¡ã€‚æœ¬æ¬¡é‡‡ç”¨æ›´æ¢ä½¿ç”¨å¤§å‹æ›æ°”æœºå’Œå¢åŠ æ›æ°”ç›˜æ•°é‡è§£å†³ã€‚å¦‚æœåœ¨å…»æ®–è¿‡ç¨‹ä¸­å‘ç°æº¶è§£æ°§æœ‰æŒç»­é™ä½çš„è¶‹åŠ¿ï¼Œæˆ–è€…æµ‹å¾—æ•°å€¼æœ‰å¼‚å¸¸ï¼Œéœ€è¦åœ¨ä¸åŒç‚¹ä½ï¼Œä½¿ç”¨ä¸åŒçš„æº¶è§£æ°§ä»ªé‡å¤æµ‹é‡ï¼Œç¡®ä¿æµ‹è¯•æ•°å€¼å‡†ç¡®ã€‚æ—¥å¸¸å…»æ®–çš„æ­£å¸¸æº¶è§£æ°§è¿‡ä½å¯èƒ½æ˜¯ç”±äºå…»æ®–å¯†åº¦è¿‡é«˜ã€æ°´ä½“å†…è€—æ°§å¾®ç”Ÿç‰©ç¹æ®–è¿‡äºå¼ºçƒˆé€ æˆï¼Œå¯ä»¥é€šè¿‡å¢åŠ æ›æ°”ç›˜ï¼Œå¢åŠ æº¶è§£æ°§æ•ˆç‡å¦‚ä½¿ç”¨æ–°çš„æ›æ°”ç›˜æˆ–ä½¿ç”¨å¾®çº³ç±³æ°”æ³¡æŠ€æœ¯ç”šè‡³çº¯æ°§æ›æ°”è§£å†³ã€‚åœ¨å·¥å‚åŒ–å…»æ®–æ¡ä»¶ä¸‹ï¼Œæº¶è§£æ°§è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªéœ€è¦è¢«ä¸é—´æ–­ç›‘æµ‹çš„æŒ‡æ ‡ã€‚ä»ç°æœ‰å¤§å‹å·¥å‚åŒ–å…»æ®–çš„å…¬å¼€ä¿¡æ¯ä¸­çœ‹åˆ°ï¼Œæ¸©åº¦ï¼Œæº¶è§£æ°§ï¼Œç”šè‡³pHå’Œç›åº¦éƒ½è¢«å®æ—¶åœ¨çº¿ç›‘æµ‹ã€‚'), Document(metadata={'piece_num': 1, 'source': 'data/raw_data/japan_shrimp/å¾ªç¯æ°´å—ç¾ç™½å¯¹è™¾å…»æ®–ç³»ç»Ÿè®¾è®¡åŠæ“ä½œæ‰‹å†Œå¼ é©°v3.0.pdf', '_id': '50c2fa92-f0f6-46b2-8e2e-986e018800f1', '_collection_name': 'japan_shrimp'}, page_content='ã€è¡¨æ ¼ã€‘è¡¨ 1 æ°´è´¨è¦æ±‚ ç¬¬1è¡Œï¼šæŒ‡æ ‡ï¼šæº¶è§£æ°§ï¼Œmg/Lï¼›åˆç†èŒƒå›´ï¼š> 4.0ï¼›å¼‚å¸¸å€¼ï¼šâ‰¤ 4.0ï¼›å¤„ç†æ–¹æ³•ï¼šl æ£€æŸ¥æ›æ°”è®¾æ–½æ˜¯å¦å·¥ä½œè‰¯å¥½ï¼› l æ± å†…æ°´è¿‡äºæµ‘æµŠå¯¼è‡´å¾®ç”Ÿç‰©è€—æ°§å¢å¤§;  l æ˜¯å¦æ± å†…å…»å¯†åº¦è¿‡é«˜ã€‚ ç¬¬2è¡Œï¼šæŒ‡æ ‡ï¼špHï¼›åˆç†èŒƒå›´ï¼š7.6~8.4ï¼›å¼‚å¸¸å€¼ï¼š/ï¼›å¤„ç†æ–¹æ³•ï¼šl å‹¤ç›‘æµ‹ pHï¼Œè‹¥ä½äº 7.6 æˆ–è¿‘å‡ æ—¥æœ‰è¿ç»­ä¸‹è·Œï¼Œé€‚é‡æ³¼æ´’çŸ³ç°ä¹³ä»¥ç»´æŒpHåœ¨8.0ä»¥ ä¸Š;l è—»ç±»è¿‡å¤šç¹æ®–ä¼šå½±å“ pH ç¨³å®šã€‚ ç¬¬3è¡Œï¼šæŒ‡æ ‡ï¼šæ°¨æ°®ï¼Œmg/Lï¼›åˆç†èŒƒå›´ï¼š< 0.1ï¼›å¼‚å¸¸å€¼ï¼š> 0.1ï¼›å¤„ç†æ–¹æ³•ï¼šl æ£€æŸ¥ç”Ÿç‰©æ± å·¥ä½œçŠ¶å†µ;l æ¢æ°´ã€‚ ç¬¬4è¡Œï¼šæŒ‡æ ‡ï¼šäºšç¡é…¸ç›æ°®ï¼Œmg/Lï¼›åˆç†èŒƒå›´ï¼š< 0.1ï¼›å¼‚å¸¸å€¼ï¼šâ‰¥ 0.1ï¼›å¤„ç†æ–¹æ³•ï¼šl æ£€æŸ¥ç”Ÿç‰©æ± å·¥ä½œçŠ¶å†µ;l æ¢æ°´ã€‚ ç¬¬5è¡Œï¼šæŒ‡æ ‡ï¼šç¡é…¸ç›æ°®ï¼Œmg/Lï¼›åˆç†èŒƒå›´ï¼š/ï¼›å¼‚å¸¸å€¼ï¼š/ï¼›å¤„ç†æ–¹æ³•ï¼šl ä¸€èˆ¬ä¸ä¼šé«˜äº 200 mg/Lã€‚ ç¬¬6è¡Œï¼šæŒ‡æ ‡ï¼šæ¸©åº¦ï¼ŒÂ°Cï¼›åˆç†èŒƒå›´ï¼š26~31ï¼›å¼‚å¸¸å€¼ï¼š< 24;ï¼›å¤„ç†æ–¹æ³•ï¼šl æ¸©åº¦ä½äº 24 æ‘„æ°åº¦ æ‘„é£Ÿå—å½±å“;æ¸©åº¦ä½ äº 22 æ‘„æ°åº¦å¯èƒ½ä¼š æœ‰éƒ¨åˆ†è™¾æ­»äº¡;æ¸©åº¦ ä½äº 20 æ‘„æ°åº¦è™¾æ´» åŠ›é™ä½ï¼Œæ¯æ—¥æœ‰æ­»äº¡ ç°è±¡ã€‚ ç¬¬7è¡Œï¼šæŒ‡æ ‡ï¼šç›åº¦ï¼Œâ€°ï¼›åˆç†èŒƒå›´ï¼š/ï¼›å¼‚å¸¸å€¼ï¼š/ï¼›å¤„ç†æ–¹æ³•ï¼šå¯ä»¥æ·¡åŒ–è‡³ 3â€°'), Document(metadata={'piece_num': 1, 'source': 'data/raw_data/japan_shrimp/å¾ªç¯æ°´å—ç¾ç™½å¯¹è™¾å…»æ®–ç³»ç»Ÿè®¾è®¡åŠæ“ä½œæ‰‹å†Œå¼ é©°v3.0.pdf', '_id': '8e907ff8-1927-48ee-a221-ab9170c5ffc8', '_collection_name': 'japan_shrimp'}, page_content='ã€è¡¨æ ¼ã€‘è¡¨ 8 ç”Ÿç‰©æ»¤æ± éœ€è¦ç»´æŠ¤å’Œæ£€æŸ¥çš„å†…å®¹ ç¬¬1è¡Œï¼šéƒ¨ä½ï¼šç”Ÿç‰©è½½ä½“ï¼›æ£€æŸ¥ç»´æŠ¤å†…å®¹ï¼šæ˜¯å¦å……åˆ†æ…åŠ¨ï¼Œæ˜¯å¦æœ‰æ­»è§’åŒºåŸŸï¼›å‘¨æœŸï¼šæ¯å¤© ç¬¬2è¡Œï¼šéƒ¨ä½ï¼šæº¶è§£æ°§ï¼›æ£€æŸ¥ç»´æŠ¤å†…å®¹ï¼šæº¶è§£æ°§å¤§äº4.0 mg/Lï¼›å‘¨æœŸï¼šæ¯å¤©'), Document(metadata={'piece_num': 1, 'source': 'æ“ä½œæ—¥å¿—', '_id': 'd1927fc0-7b15-406e-bc8c-c7c2c66e2f34', '_collection_name': 'japan_shrimp'}, page_content='7æœˆ16æ—¥æ˜ŸæœŸä¸‰ï¼Œé›¨ï¼Œæ°”æ¸©24ï½28æ‘„æ°åº¦ã€‚ä¸€å·æ± è¿è½¬æ­£å¸¸ã€‚æ°´æ¸©28.7æ‘„æ°åº¦ï¼ŒpH7.76ï¼Œæ°¨æ°®0ï¼Œäºšç¡é…¸ç›0ã€‚å¾ªç¯è¿è¡Œã€‚æ¸…ç†ç‰©ç†è¿‡æ»¤å™¨ã€‚äºŒå·æ± è¿è½¬æ­£å¸¸ã€‚æ°´æ¸©28.9æ‘„æ°åº¦ï¼ŒpH7.84ï¼Œæ°¨æ°®0ï¼Œäºšç¡é…¸ç›0ã€‚æµ“ç¼©æ±¡æ°´ä¸Šæ¸…æ¶²è¿”æµç³»ç»Ÿå·¥ä½œæ­£å¸¸ï¼Œå¹¶æ¸…æ´—æ±¡æ°´æ¡¶ã€‚æ¸…æ´—ç‰©ç†è¿‡æ»¤å™¨ã€‚æ¯æ—¥å…³é”®ç‚¹æ€»ç»“ï¼š1ï¼Œ2å·æ± å–‚é£Ÿç›˜æœªæœ‰å‰©é£Ÿï¼Œä¿æŒæŠ•é£Ÿé‡è‡³1200gï¼Œç»§ç»­è§‚å¯Ÿã€‚ä¸¤ä¸ªæ°´æ± åˆ†åˆ«æ·»åŠ çŸ³ç°ä¹³800mLã€‚æ£€æŸ¥æ‰€æœ‰è¿è½¬ä¸­è®¾å¤‡ï¼Œä¸æ¼æ°´.ä¸æ–­æ°”.æ²¡æœ‰æ–­ç”µé£é™©ã€‚')]
2025-09-23 17:00:56,604 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-23 17:00:56,618 - api_qa_sse - INFO - å‘é€æœ€ç»ˆç­”æ¡ˆ: {"session_id": "fadeda84-256c-4f46-b606-ee7c375b9244", "timestamp": "17:00:56", "agent_type": "japan", "message_id": "12c87996-c3de-49cb-ae40-3b38c83e6598", "content": "æŸ¥è¯¢å¤„ç†å®Œæˆï¼Œè¿”å›æœ€ç»ˆç­”æ¡ˆ", "data": {"status": "completed", "answer": "æ ¹æ®æ£€ç´¢åˆ°çš„èµ„æ–™ï¼Œå½“å‰æº¶è§£æ°§ï¼ˆDOï¼‰æ°´å¹³ä¸º3.4 mg/Lï¼Œä½äºæ¨èçš„æœ€ä½å€¼4.0 mg/Lï¼Œè¿™å¯èƒ½å¯¹è™¾çš„ç”Ÿå­˜é€ æˆå¨èƒã€‚å› æ­¤ï¼Œéœ€è¦ç«‹å³é‡‡å–æªæ–½æé«˜æº¶è§£æ°§æ°´å¹³ã€‚ä»¥ä¸‹æ˜¯å»ºè®®çš„æ“ä½œæ­¥éª¤ï¼š\n\n1. **æ£€æŸ¥æ›æ°”è®¾æ–½**ï¼šç¡®ä¿æ‰€æœ‰æ›æ°”è®¾å¤‡æ­£å¸¸è¿è½¬ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰è®¾å¤‡æ•…éšœæˆ–æ•ˆç‡é™ä½çš„æƒ…å†µã€‚\n\n2. **å¢åŠ æ›æ°”**ï¼šå¯ä»¥é€šè¿‡å¢åŠ æ›æ°”ç›˜çš„æ•°é‡æˆ–ä½¿ç”¨æ›´é«˜æ•ˆçš„æ›æ°”æŠ€æœ¯ï¼ˆå¦‚å¾®çº³ç±³æ°”æ³¡æŠ€æœ¯ï¼‰æ¥æé«˜æ°´ä¸­çš„æº¶è§£æ°§å«é‡ã€‚\n\n3. **è°ƒæ•´å…»æ®–å¯†åº¦**ï¼šå¦‚æœå…»æ®–å¯†åº¦è¿‡é«˜ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ°§æ°”æ¶ˆè€—è¿‡å¿«ï¼Œå¯ä»¥é€‚å½“è°ƒæ•´å¯†åº¦ä»¥å‡å°‘è€—æ°§é‡ã€‚\n\n4. **ç›‘æµ‹æ°´è´¨**ï¼šæŒç»­ç›‘æµ‹æº¶è§£æ°§æ°´å¹³ï¼Œç¡®ä¿å…¶ç»´æŒåœ¨4.0 mg/Lä»¥ä¸Šï¼Œæœ€å¥½åœ¨5.0~8.0 mg/Lä¹‹é—´ã€‚\n\n5. **æ£€æŸ¥æ°´ä½“æµ‘æµŠåº¦**ï¼šå¦‚æœæ°´ä½“è¿‡äºæµ‘æµŠï¼Œå¯èƒ½ä¼šå¢åŠ è€—æ°§å¾®ç”Ÿç‰©çš„ç¹æ®–ï¼Œéœ€è¿›è¡Œé€‚å½“çš„æ°´ä½“å‡€åŒ–ã€‚\n\næ­¤å¤–ï¼Œå½“å‰çš„pHå€¼ä¸º8.0ï¼Œå¤„äºåˆç†èŒƒå›´å†…ï¼ˆ7.6~8.4ï¼‰ï¼Œæ— éœ€ç«‹å³è°ƒæ•´ã€‚æ°´æ¸©ä¸º28.5Â°Cï¼Œä¹Ÿåœ¨é€‚åˆè™¾ç±»ç”Ÿé•¿çš„èŒƒå›´å†…ï¼ˆ26~31Â°Cï¼‰ï¼Œæ— éœ€è°ƒæ•´ã€‚\n\nç»¼ä¸Šæ‰€è¿°ï¼Œå½“å‰æœ€éœ€è¦å…³æ³¨çš„æ˜¯æé«˜æº¶è§£æ°§æ°´å¹³ï¼Œä»¥ç¡®ä¿è™¾çš„å¥åº·å’Œç”Ÿå­˜ã€‚"}}
/Users/sarah/anaconda3/lib/python3.11/multiprocessing/resource_tracker.py:224: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
