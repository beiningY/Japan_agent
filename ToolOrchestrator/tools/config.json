[
  {
    "name": "list_sql_tables",
    "handler": "db_tools.list_sql_tables",
    "description": "列出数据库中的所有表",
    "risk_level": "LOW",
    "enabled": true
  },
  {
    "name": "get_tables_schema",
    "handler": "db_tools.get_tables_schema",
    "description": "获取数据库中表的结构",
    "risk_level": "LOW",
    "enabled": true,
    "parameters": {
      "type": "object",
      "properties": {
        "table_names": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "需要查询结构的表名列表"
        }
      },
      "required": [
        "table_names"
      ]
    }
  },
  {
    "name": "read_query_for_sensor_readings",
    "handler": "db_tools.read_query_for_sensor_readings",
    "description": "执行只读的SQL查询来从数据库获取传感器数据sensor_readings表里的数据",
    "risk_level": "HIGH",
    "enabled": true,
    "parameters": {
      "type": "object",
      "properties": {
        "table_queries": {
          "type": "array",
          "description": "要执行的SQL查询列表，每项为包含 query 字段的对象，query为要执行的SQL查询语句，查询传感器数据sensor_readings表里的数据",
          "items": {
            "type": "object",
            "properties": {
              "query": {
                "type": "string"
              }
            },
            "required": [
              "query"
            ]
          }
        }
      },
      "required": [
        "table_queries"
      ]
    }
  },
  {
    "name": "create_collection",
    "handler": "kb_tools.create",
    "description": "创建知识库",
    "risk_level": "LOW",
    "enabled": true,
    "parameters": {
      "type": "object",
      "properties": {
        "collection_name": {
          "type": "string",
          "description": "知识库名称"
        }
      },
      "required": [
        "collection_name"
      ]
    }
  },
  {
    "name": "delete_collection",
    "handler": "kb_tools.delete",
    "description": "删除知识库",
    "risk_level": "HIGH",
    "enabled": true,
    "parameters": {
      "type": "object",
      "properties": {
        "collection_name": {
          "type": "string",
          "description": "知识库名称"
        }
      },
      "required": [
        "collection_name"
      ]
    }
  },
  {
    "name": "retrieve",
    "handler": "kb_tools.retrieve",
    "description": "直接检索 top-k 语义片段,返回结构化 chunks",
    "risk_level": "LOW",
    "enabled": true,
    "parameters": {
      "type": "object",
      "properties": {
        "collection_name": {
          "type": "string",
          "enum": ["japan_shrimp"],
          "description": "已有知识库的名称"
        },
        "question": {
          "type": "string",
          "description": "根据用户提出的问题所进行rag检索的query"
        },
        "k": {
          "type": "integer",
          "default": 5,
          "description": "检索的片段数量"
        }
      },
      "required": [
        "collection_name",
        "question"
      ]
    }
  },
  {
    "name": "create_file",
    "handler": "kb_tools.add_file",
    "description": "添加文件到知识库",
    "risk_level": "MEDIUM",
    "enabled": true,
    "parameters": {
      "type": "object",
      "properties": {
        "collection_name": {
          "type": "string"
        },
        "file_path": {
          "type": "string"
        }
      },
      "required": [
        "collection_name",
        "file_path"
      ]
    }
  },
  {
    "name": "delete_file",
    "handler": "kb_tools.deletefile",
    "description": "删除文件从知识库",
    "risk_level": "HIGH",
    "enabled": true,
    "parameters": {
      "type": "object",
      "properties": {
        "collection_name": {
          "type": "string"
        },
        "file_path": {
          "type": "string"
        }
      },
      "required": [
        "collection_name",
        "file_path"
      ]
    }
  },
  {
    "name": "web_search",
    "handler": "web_search_tools.web_search",
    "description": "通过 Tavily API 进行联网搜索，获取最新信息",
    "risk_level": "LOW",
    "enabled": true,
    "parameters": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string",
          "description": "搜索查询字符串"
        },
        "max_results": {
          "type": "integer",
          "default": 3,
          "description": "返回的最大结果数量，默认为3"
        },
        "search_depth": {
          "type": "string",
          "enum": ["basic", "advanced"],
          "default": "basic",
          "description": "搜索深度，可选值: basic 或 advanced"
        }
      },
      "required": [
        "query"
      ]
    }
  }
]